<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="../../base.css">
    <link rel="stylesheet" href="../../ueditor/third-party/SyntaxHighlighter/shCoreDefault.css">
    <title>static-site</title>
  </head>
  <body style="background:transparent;">
<h4>ajax异步请求</h4><p>官方的&nbsp;<span style="color: #6a9955;">vue-resource&nbsp;</span>已停止更新，且V2.x不推荐</p><p>Vue.js&nbsp;2.0&nbsp;版本开始官方推荐使用&nbsp;<span style="color: rgb(106, 153, 85);">axios</span></p><p>需要安装&nbsp;npm&nbsp;install&nbsp;axios</p><p>并在main.js中引入<span style="color: rgb(106, 153, 85);">&nbsp;</span><span style="color: rgb(197, 134, 192);">import</span>&nbsp;<span style="color: rgb(156, 220, 254);">axios</span>&nbsp;<span style="color: rgb(197, 134, 192);">from</span>&nbsp;<span style="color: rgb(206, 145, 120);">&#39;axios&#39; </span>并定义<span style="color: rgb(206, 145, 120);">&nbsp;</span><span style="color: rgb(78, 201, 176);">Vue</span>.<span style="color: rgb(156, 220, 254);">prototype</span>.<span style="color: rgb(156, 220, 254);">axios</span>&nbsp;=&nbsp;<span style="color: rgb(156, 220, 254);">axios</span></p><p>基于vue-cli的示例：</p><p>main.js</p><pre class="brush:js;toolbar:false;">import&nbsp;Vue&nbsp;from&nbsp;&#39;vue&#39;
import&nbsp;App&nbsp;from&nbsp;&#39;./App.vue&#39;
import&nbsp;axios&nbsp;from&nbsp;&#39;axios&#39;
//需要在原型定义&nbsp;axios&nbsp;否则其他组件无法使用
Vue.prototype.axios&nbsp;=&nbsp;axios;
//&nbsp;配置有效性优先顺序：请求&nbsp;config&nbsp;参数&nbsp;&gt;&gt;&gt;&nbsp;实例&nbsp;defaults&nbsp;属性&nbsp;&gt;&gt;&gt;&nbsp;lib/defaults.js&nbsp;库默认值
/*&nbsp;axios全局配置
axios.defaults.baseURL&nbsp;=&nbsp;&#39;https://api.example.com&#39;;
axios.defaults.headers.common[&#39;Authorization&#39;]&nbsp;=&nbsp;AUTH_TOKEN;
axios.defaults.headers.post[&#39;Content-Type&#39;]&nbsp;=&nbsp;&#39;application/x-www-form-urlencoded&#39;;
*/
//axios单独的实例配置
/*创建实例时设置配置的默认值
var&nbsp;instance&nbsp;=&nbsp;axios.create({
&nbsp;&nbsp;baseURL:&nbsp;&#39;https://api.example.com&#39;
});
//&nbsp;在实例已创建后修改默认值
instance.defaults.headers.common[&#39;Authorization&#39;]&nbsp;=&nbsp;AUTH_TOKEN;
*/
new&nbsp;Vue({
&nbsp;&nbsp;render:&nbsp;h&nbsp;=&gt;&nbsp;h(App)
}).$mount(&#39;#app&#39;)</pre><p>Example.vue</p><pre class="brush:html;toolbar:false">&lt;template&gt;
&nbsp;&nbsp;&lt;div&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;button&quot;&nbsp;value=&quot;get&quot;&nbsp;@click=&#39;getInfo&#39;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;button&quot;&nbsp;value=&quot;post&quot;&nbsp;@click=&#39;postInfo&#39;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;button&quot;&nbsp;value=&quot;all&quot;&nbsp;@click=&#39;allInfo&#39;&gt;
&nbsp;&nbsp;&lt;/div&gt;
&lt;/template&gt;</pre><pre class="brush:js;toolbar:false">&lt;script&gt;
//关于&nbsp;Vue&nbsp;实例中的&nbsp;this:&nbsp;在Vue实例中，要获取&nbsp;data&nbsp;中的数据&nbsp;或者&nbsp;methods&nbsp;中的方法，必须使用&nbsp;this.&nbsp;访问，这里的&nbsp;this&nbsp;表示&nbsp;Vue&nbsp;实例对象
export&nbsp;default&nbsp;{
&nbsp;&nbsp;data(){//注意：使用&nbsp;vue&nbsp;cli&nbsp;后，这里是属于组件&nbsp;data&nbsp;必须这么写，和实例&nbsp;data&nbsp;不一样，实例可以是对象
&nbsp;&nbsp;&nbsp;&nbsp;return{msg:&quot;&quot;}
&nbsp;&nbsp;},
&nbsp;&nbsp;methods:{//&nbsp;methods&nbsp;属性中定义了当前&nbsp;Vue&nbsp;实例所有可用方法
&nbsp;&nbsp;&nbsp;&nbsp;getInfo(){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*1.axios&nbsp;Vue.js&nbsp;2.0&nbsp;版本推荐使用&nbsp;,&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;需要安装&nbsp;npm&nbsp;install&nbsp;axios
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;并在main.js中引入&nbsp;import&nbsp;axios&nbsp;from&nbsp;&#39;axios&#39;&nbsp;并定义&nbsp;Vue.prototype.axios=axios&nbsp;*/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.axios.get(&#39;https://www.runoob.com/try/ajax/json_demo.json&#39;,{params:{ID:111}})
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.then(function&nbsp;(response)&nbsp;{window.console.log(response);})//或者箭头函数&nbsp;then(response&nbsp;=&gt;&nbsp;(this.info&nbsp;=&nbsp;response))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.catch(function&nbsp;(error)&nbsp;{&nbsp;window.console.log(error);});//&nbsp;请求失败处理
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//2.ES6新语法,基于promise对象，原生js，没有使用XMLHttpRequest对象&nbsp;更多优缺点https://www.jianshu.com/p/8bc48f8fde75
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//fetch(&#39;https://www.runoob.com/try/ajax/json_demo.json&#39;).then(response&nbsp;=&gt;&nbsp;response.json()).then(json&nbsp;=&gt;&nbsp;window.console.log(json));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*3.&nbsp;vue-resource&nbsp;已停止更新，V2.x不推荐&nbsp;需要依赖包
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.$http.get(&#39;http://vue.studyit.io/api/getlunbo&#39;).then(function(result){})*/
&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;postInfo(){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.axios.post(&#39;https://www.runoob.com/try/ajax/json_demo.json&#39;,{params:{ID:111}})
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.then(function&nbsp;(response)&nbsp;{window.console.log(response);})
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.catch(function&nbsp;(error)&nbsp;{window.console.log(error);});//&nbsp;请求失败处理
&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;allInfo(){//执行多个并发请求
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;getR(){this.axios.get(&#39;https://www.runoob.com/try/ajax/json_demo.json&#39;,{params:{ID:111}})}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;postR(){this.axios.post(&#39;https://www.runoob.com/try/ajax/json_demo.json&#39;,{params:{ID:111}})}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.axios.all([getR(),postR()]).then(this.axios.spread(function&nbsp;(acct,&nbsp;perms)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;acct;perms;//&nbsp;两个请求现在都执行完成
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}));
&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;diy(){//自定义配置
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.axios({
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url:&nbsp;&quot;/user&quot;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method:&nbsp;&quot;get&quot;,//默认get
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;baseURL:&nbsp;&quot;https://some-domain.com/api/&quot;,//baseURL&nbsp;将自动加在&nbsp;url&nbsp;前，除非&nbsp;`url`&nbsp;是一个绝对&nbsp;URL。
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//向服务器发送前，修改请求数据,只能用在&quot;PUT&quot;、&quot;POST&quot;、&quot;PATCH&quot;请求方法
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transformRequest:&nbsp;[function&nbsp;(data)&nbsp;{//&nbsp;对&nbsp;data&nbsp;进行任意转换处理
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;data;//必须返回一个string，或&nbsp;ArrayBuffer，或&nbsp;Stream
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}],
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;headers:&nbsp;{&quot;X-Requested-With&quot;:&nbsp;&quot;XMLHttpRequest&quot;},//&nbsp;headers&nbsp;是即将被发送的自定义请求头
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;params:&nbsp;{ID:&nbsp;12345},//&nbsp;`params`&nbsp;是即将与请求一起发送的&nbsp;URL&nbsp;参数
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`paramsSerializer`&nbsp;是一个负责&nbsp;`params`&nbsp;序列化的函数
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paramsSerializer:&nbsp;function(params)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;window.Qs.stringify(params,&nbsp;{arrayFormat:&nbsp;&quot;brackets&quot;})
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`data`&nbsp;是作为请求主体被发送的数据&nbsp;只适用于&nbsp;&quot;PUT&quot;,&nbsp;&quot;POST&quot;,&nbsp;和&nbsp;&quot;PATCH&quot;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;在没有设置&nbsp;`transformRequest`&nbsp;时，必须是以下类型之一：
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;-&nbsp;string,&nbsp;plain&nbsp;object,&nbsp;ArrayBuffer,&nbsp;ArrayBufferView,&nbsp;URLSearchParams
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;-&nbsp;浏览器专属：FormData,&nbsp;File,&nbsp;Blob
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;-&nbsp;Node&nbsp;专属：&nbsp;Stream
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data:&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firstName:&nbsp;&quot;Fred&quot;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`timeout`&nbsp;指定请求超时的毫秒数(0&nbsp;表示无超时时间)&nbsp;如果请求超过&nbsp;`timeout`&nbsp;的时间，请求将被中断
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timeout:&nbsp;1000,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`withCredentials`&nbsp;表示跨域请求时是否需要使用凭证
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;withCredentials:&nbsp;false,&nbsp;//&nbsp;默认的
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`adapter`&nbsp;允许自定义处理请求，以使测试更轻松&nbsp;返回一个&nbsp;promise&nbsp;并应用一个有效的响应&nbsp;(查阅&nbsp;[response&nbsp;docs](#response-api)).
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;adapter:&nbsp;function&nbsp;(config)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;...&nbsp;*/config;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`auth`&nbsp;表示应该使用&nbsp;HTTP&nbsp;基础验证，并提供凭据&nbsp;这将设置一个&nbsp;`Authorization`&nbsp;头，覆写掉现有的任意使用&nbsp;`headers`&nbsp;设置的自定义&nbsp;`Authorization`头
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auth:&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;username:&nbsp;&quot;janedoe&quot;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;password:&nbsp;&quot;s00pers3cret&quot;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`responseType`&nbsp;表示服务器响应的数据类型，可以是&nbsp;&quot;arraybuffer&quot;,&nbsp;&quot;blob&quot;,&nbsp;&quot;document&quot;,&nbsp;&quot;json&quot;,&nbsp;&quot;text&quot;,&nbsp;&quot;stream&quot;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;responseType:&nbsp;&quot;json&quot;,&nbsp;//&nbsp;默认的
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`xsrfCookieName`&nbsp;是用作&nbsp;xsrf&nbsp;token&nbsp;的值的cookie的名称
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xsrfCookieName:&nbsp;&quot;XSRF-TOKEN&quot;,&nbsp;//&nbsp;default
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`xsrfHeaderName`&nbsp;是承载&nbsp;xsrf&nbsp;token&nbsp;的值的&nbsp;HTTP&nbsp;头的名称
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xsrfHeaderName:&nbsp;&quot;X-XSRF-TOKEN&quot;,&nbsp;//&nbsp;默认的
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`onUploadProgress`&nbsp;允许为上传处理进度事件
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onUploadProgress:&nbsp;function&nbsp;(progressEvent)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;progressEvent;//&nbsp;对原生进度事件的处理
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`onDownloadProgress`&nbsp;允许为下载处理进度事件
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onDownloadProgress:&nbsp;function&nbsp;(progressEvent)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;progressEvent;//&nbsp;对原生进度事件的处理
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`maxContentLength`&nbsp;定义允许的响应内容的最大尺寸
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxContentLength:&nbsp;2000,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`validateStatus`&nbsp;定义对于给定的HTTP&nbsp;响应状态码是&nbsp;resolve&nbsp;或&nbsp;reject&nbsp;&nbsp;promise&nbsp;。如果&nbsp;`validateStatus`&nbsp;返回&nbsp;`true`&nbsp;(或者设置为&nbsp;`null`&nbsp;或&nbsp;`undefined`)，promise&nbsp;将被&nbsp;resolve;&nbsp;否则，promise&nbsp;将被&nbsp;rejecte
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validateStatus:&nbsp;function&nbsp;(status)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;status;//return&nbsp;status&nbsp;&amp;gt;=&nbsp;200&nbsp;&amp;amp;&amp;amp;&nbsp;status&nbsp;&amp;lt;&nbsp;300;&nbsp;//&nbsp;默认的
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`maxRedirects`&nbsp;定义在&nbsp;node.js&nbsp;中&nbsp;follow&nbsp;的最大重定向数目
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;如果设置为0，将不会&nbsp;follow&nbsp;任何重定向
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxRedirects:&nbsp;5,&nbsp;//&nbsp;默认的
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`httpAgent`&nbsp;和&nbsp;`httpsAgent`&nbsp;分别在&nbsp;node.js&nbsp;中用于定义在执行&nbsp;http&nbsp;和&nbsp;https&nbsp;时使用的自定义代理。允许像这样配置选项：
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`keepAlive`&nbsp;默认没有启用
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;httpAgent:&nbsp;new&nbsp;window.http.Agent({&nbsp;keepAlive:&nbsp;true&nbsp;}),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;httpsAgent:&nbsp;new&nbsp;window.https.Agent({&nbsp;keepAlive:&nbsp;true&nbsp;}),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&quot;proxy&quot;&nbsp;定义代理服务器的主机名称和端口
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`auth`&nbsp;表示&nbsp;HTTP&nbsp;基础验证应当用于连接代理，并提供凭据
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;这将会设置一个&nbsp;`Proxy-Authorization`&nbsp;头，覆写掉已有的通过使用&nbsp;`header`&nbsp;设置的自定义&nbsp;`Proxy-Authorization`&nbsp;头。
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxy:&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;host:&nbsp;&quot;127.0.0.1&quot;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;port:&nbsp;9000,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auth&nbsp;:&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;username:&nbsp;&quot;mikeymike&quot;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;password:&nbsp;&quot;rapunz3l&quot;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;`cancelToken`&nbsp;指定用于取消请求的&nbsp;cancel&nbsp;token
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;（查看后面的&nbsp;Cancellation&nbsp;这节了解更多）
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cancelToken:&nbsp;new&nbsp;window.CancelToken(function&nbsp;(cancel)&nbsp;{cancel;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}).then(function(response)&nbsp;{//axios请求的响应包含以下信息：
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.console.log(response.data);//&nbsp;`data`&nbsp;由服务器提供的响应
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.console.log(response.status);//&nbsp;`status`&nbsp;&nbsp;HTTP&nbsp;状态码
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.console.log(response.statusText);//&nbsp;`statusText`&nbsp;来自服务器响应的&nbsp;HTTP&nbsp;状态信息
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.console.log(response.headers);//&nbsp;`headers`&nbsp;服务器响应的头
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.console.log(response.config);//&nbsp;`config`&nbsp;是为请求提供的配置信息
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}).catch(function&nbsp;(error)&nbsp;{//错误处理
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(error.response)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;请求已发出，但服务器响应的状态码不在&nbsp;2xx&nbsp;范围内&nbsp;,可以修改配置validateStatus变更HTTP状态码错误范围
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.console.log(error.response.data);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.console.log(error.response.status);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.console.log(error.response.headers);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Something&nbsp;happened&nbsp;in&nbsp;setting&nbsp;up&nbsp;the&nbsp;request&nbsp;that&nbsp;triggered&nbsp;an&nbsp;Error
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.console.log(&#39;Error&#39;,&nbsp;error.message);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.console.log(error.config);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//配置略，见main.js
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//拦截器
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//请求拦截器
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.axios.interceptors.request.use(function&nbsp;(config)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;在发送请求之前做些什么
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;config;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;function&nbsp;(error)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;对请求错误做些什么
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;Promise.reject(error);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;添加响应拦截器
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;myInterceptor&nbsp;=&nbsp;this.axios.interceptors.response.use(function&nbsp;(response)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;对响应数据做点什么
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;function&nbsp;(error)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;对响应错误做点什么
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;Promise.reject(error);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//移除拦截器
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.axios.interceptors.request.eject(myInterceptor);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;},
&nbsp;&nbsp;directives:{//私有自定义指令,仅当前组件有效
&nbsp;&nbsp;},
};
&lt;/script&gt;</pre><p><br/></p>  </body>
  <script type="text/javascript" src="../../ueditor/third-party/SyntaxHighlighter/shCore.js"></script>
  <script type="text/javascript">
    SyntaxHighlighter.all();    window.setInterval(function changeHeight(){ 
        window.frameElement.style.height=(window.document.body.scrollHeight+30)+'px';
    },400);
  </script>
</html>
